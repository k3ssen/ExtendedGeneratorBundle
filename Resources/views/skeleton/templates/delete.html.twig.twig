{# @var meta_entity \K3ssen\GeneratorBundle\MetaData\MetaEntityInterface #}
{# @var generate_options \K3ssen\GeneratorBundle\Generator\CrudGenerateOptions#}
{% extends '@!Generator/skeleton/templates/delete.html.twig.twig' %}
{% set entity_singularized = meta_entity.name|tabalize %}
{% set subdir = generate_options.controllerSubdirectory %}
{% set route_prefix = (subdir ? subdir | tabalize ~  '_': '') ~ entity_singularized %}
{% set route_param = '{' ~ meta_entity.idProperty|default('id') ~ ': ' ~ entity_singularized ~ '.' ~ meta_entity.idProperty|default('id') ~ '}' %}

{% block title %}
{{ "{% set title = '"~meta_entity.name~"' %}" }}
{% if meta_entity.displayProperty %}
{{ "{% set sub_title = ' - " ~entity_singularized~" %}" }}
{% endif %}
{% endblock %}

{% block body %}
{{ "{% block content %}" }}
    {{ "{% embed.entity_form_box('Delete', "~entity_singularized~", "~(generate_options.useVoter?'true':'false')~", form) %}"  }}
        <p>
            Are you sure you want to delete this {{ meta_entity.name }}?
        </p>
        {{ "{% block box_body_form_buttons %}" }}
            <button class="btn btn-danger">Yes, delete</button>
            <a href="{{ "{{ path('"~route_prefix ~"_show', "~route_param~") }}" }}" class="btn btn-secondary">No, go back</a>
        {{ "{% endblock %}" }}
    {{ "{% endembed %}" }}
{{ "{% endblock %}" }}
{% endblock %}