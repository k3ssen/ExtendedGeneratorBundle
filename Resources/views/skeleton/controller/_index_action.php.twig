{# @var meta_entity \K3ssen\GeneratorBundle\MetaData\MetaEntityInterface #}
{# @var generate_options \K3ssen\ExtendedGeneratorBundle\Generator\CrudGenerateOptions#}
{% use '@!Generator/skeleton/controller/_index_action.php.twig' %}

{% block index_action_method_definition %}
    public function index({{ meta_entity.name }}{% if generate_options.useDatatable %}Datatable $datatable{% else %}Repository $repo{% endif %}): Response
{% endblock %}

{% block index_action_return_response %}
        return $this->render('{{ view_prefix }}/index.html.twig', [
    {%- if generate_options.useDatatable %}

            'datatable' => $datatable->buildDatatable(),
    {%- else %}

        '{{ meta_entity.name | pluralize | tabalize }}' => $repo->findAll(),
    {%- endif %}

    ]);
{% endblock %}